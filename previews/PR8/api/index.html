<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · LegendGeSim</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://legend-exp.github.io/LegendGeSim.jl/stable/api/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LegendGeSim</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Modules"><span>Modules</span></a></li><li><a class="tocitem" href="#Types-and-constants"><span>Types and constants</span></a></li><li><a class="tocitem" href="#Functions-and-macros"><span>Functions and macros</span></a></li><li class="toplevel"><a class="tocitem" href="#Documentation"><span>Documentation</span></a></li></ul></li><li><a class="tocitem" href="../LICENSE/">LICENSE</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/legend-exp/LegendGeSim.jl/blob/master/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Modules"><a class="docs-heading-anchor" href="#Modules">Modules</a><a id="Modules-1"></a><a class="docs-heading-anchor-permalink" href="#Modules" title="Permalink"></a></h2><ul><li><a href="#LegendGeSim.LegendGeSim"><code>LegendGeSim.LegendGeSim</code></a></li></ul><h2 id="Types-and-constants"><a class="docs-heading-anchor" href="#Types-and-constants">Types and constants</a><a id="Types-and-constants-1"></a><a class="docs-heading-anchor-permalink" href="#Types-and-constants" title="Permalink"></a></h2><ul><li><a href="#LegendGeSim.CC2"><code>LegendGeSim.CC2</code></a></li><li><a href="#LegendGeSim.DAQ-Tuple{PropDicts.PropDict}"><code>LegendGeSim.DAQ</code></a></li><li><a href="#LegendGeSim.DAQ"><code>LegendGeSim.DAQ</code></a></li><li><a href="#LegendGeSim.ElecChain-Tuple{PropDicts.PropDict}"><code>LegendGeSim.ElecChain</code></a></li><li><a href="#LegendGeSim.ElecChain"><code>LegendGeSim.ElecChain</code></a></li><li><a href="#LegendGeSim.Environment-Tuple{PropDicts.PropDict}"><code>LegendGeSim.Environment</code></a></li><li><a href="#LegendGeSim.FADC-Tuple{PropDicts.PropDict}"><code>LegendGeSim.FADC</code></a></li><li><a href="#LegendGeSim.FADC"><code>LegendGeSim.FADC</code></a></li><li><a href="#LegendGeSim.Flashcam"><code>LegendGeSim.Flashcam</code></a></li><li><a href="#LegendGeSim.GenericDAQ"><code>LegendGeSim.GenericDAQ</code></a></li><li><a href="#LegendGeSim.GenericDAQ-Tuple{PropDicts.PropDict}"><code>LegendGeSim.GenericDAQ</code></a></li><li><a href="#LegendGeSim.GenericElecChain"><code>LegendGeSim.GenericElecChain</code></a></li><li><a href="#LegendGeSim.GenericElecChain-Tuple{PropDicts.PropDict}"><code>LegendGeSim.GenericElecChain</code></a></li><li><a href="#LegendGeSim.GenericFADC-Tuple{PropDicts.PropDict}"><code>LegendGeSim.GenericFADC</code></a></li><li><a href="#LegendGeSim.GenericFADC"><code>LegendGeSim.GenericFADC</code></a></li><li><a href="#LegendGeSim.GenericPreAmp"><code>LegendGeSim.GenericPreAmp</code></a></li><li><a href="#LegendGeSim.GenericPreAmp-Tuple{PropDicts.PropDict}"><code>LegendGeSim.GenericPreAmp</code></a></li><li><a href="#LegendGeSim.NoiseFromData-Tuple{PropDicts.PropDict}"><code>LegendGeSim.NoiseFromData</code></a></li><li><a href="#LegendGeSim.NoiseFromData"><code>LegendGeSim.NoiseFromData</code></a></li><li><a href="#LegendGeSim.NoiseFromSim-Tuple{PropDicts.PropDict}"><code>LegendGeSim.NoiseFromSim</code></a></li><li><a href="#LegendGeSim.NoiseFromSim"><code>LegendGeSim.NoiseFromSim</code></a></li><li><a href="#LegendGeSim.NoiseModel-Tuple{PropDicts.PropDict}"><code>LegendGeSim.NoiseModel</code></a></li><li><a href="#LegendGeSim.NoiseModel"><code>LegendGeSim.NoiseModel</code></a></li><li><a href="#LegendGeSim.PSSimulator-Tuple{PropDicts.PropDict}"><code>LegendGeSim.PSSimulator</code></a></li><li><a href="#LegendGeSim.PSSimulator"><code>LegendGeSim.PSSimulator</code></a></li><li><a href="#LegendGeSim.PreAmp-Tuple{PropDicts.PropDict}"><code>LegendGeSim.PreAmp</code></a></li><li><a href="#LegendGeSim.PreAmp"><code>LegendGeSim.PreAmp</code></a></li><li><a href="#LegendGeSim.SSDSimulator-Tuple{PropDicts.PropDict}"><code>LegendGeSim.SSDSimulator</code></a></li><li><a href="#LegendGeSim.SSDSimulator"><code>LegendGeSim.SSDSimulator</code></a></li><li><a href="#LegendGeSim.SiggenSimulator-Tuple{PropDicts.PropDict}"><code>LegendGeSim.SiggenSimulator</code></a></li><li><a href="#LegendGeSim.SiggenSimulator"><code>LegendGeSim.SiggenSimulator</code></a></li><li><a href="#LegendGeSim.Struck"><code>LegendGeSim.Struck</code></a></li><li><a href="#LegendGeSim.TrapFilter"><code>LegendGeSim.TrapFilter</code></a></li><li><a href="#LegendGeSim.TrapFilter-Tuple{PropDicts.PropDict}"><code>LegendGeSim.TrapFilter</code></a></li><li><a href="#LegendGeSim.Trigger-Tuple{PropDicts.PropDict}"><code>LegendGeSim.Trigger</code></a></li><li><a href="#LegendGeSim.Trigger"><code>LegendGeSim.Trigger</code></a></li></ul><h2 id="Functions-and-macros"><a class="docs-heading-anchor" href="#Functions-and-macros">Functions and macros</a><a id="Functions-and-macros-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-and-macros" title="Permalink"></a></h2><ul><li><a href="#LegendGeSim.add_tail_and_baseline-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericFADC, LegendGeSim.GenericDAQ}"><code>LegendGeSim.add_tail_and_baseline</code></a></li><li><a href="#LegendGeSim.baseline_catalog-Tuple{AbstractString}"><code>LegendGeSim.baseline_catalog</code></a></li><li><a href="#LegendGeSim.baseline_catalog-Tuple{TypedTables.Table}"><code>LegendGeSim.baseline_catalog</code></a></li><li><a href="#LegendGeSim.construct_ssd_simulation-Tuple{PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.SSDSimulator}"><code>LegendGeSim.construct_ssd_simulation</code></a></li><li><a href="#LegendGeSim.differentiate-Tuple{RadiationDetectorSignals.RDWaveform}"><code>LegendGeSim.differentiate</code></a></li><li><a href="#LegendGeSim.extend_baseline-Tuple{RadiationDetectorSignals.RDWaveform, RadiationDetectorSignals.RDWaveform}"><code>LegendGeSim.extend_baseline</code></a></li><li><a href="#LegendGeSim.fano_noise-Tuple{TypedTables.Table, PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.NoiseFromSim}"><code>LegendGeSim.fano_noise</code></a></li><li><a href="#LegendGeSim.fano_noise-Tuple{TypedTables.Table, PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.NoiseFromData}"><code>LegendGeSim.fano_noise</code></a></li><li><a href="#LegendGeSim.filename-Tuple{Any}"><code>LegendGeSim.filename</code></a></li><li><a href="#LegendGeSim.group_by_column-Tuple{TypedTables.Table, Symbol}"><code>LegendGeSim.group_by_column</code></a></li><li><a href="#LegendGeSim.load_config-Tuple{AbstractString, AbstractString}"><code>LegendGeSim.load_config</code></a></li><li><a href="#LegendGeSim.meta2siggen-Tuple{PropDicts.PropDict, LegendGeSim.Environment}"><code>LegendGeSim.meta2siggen</code></a></li><li><a href="#LegendGeSim.pet_to_raw-Tuple{PropDicts.PropDict}"><code>LegendGeSim.pet_to_raw</code></a></li><li><a href="#LegendGeSim.pet_to_stp-Union{Tuple{S}, Tuple{TypedTables.Table, S}} where S"><code>LegendGeSim.pet_to_stp</code></a></li><li><a href="#LegendGeSim.preamp_gain-Tuple{LegendGeSim.GenericPreAmp, LegendGeSim.NoiseFromSim}"><code>LegendGeSim.preamp_gain</code></a></li><li><a href="#LegendGeSim.preamp_gain-Tuple{LegendGeSim.PreAmp, LegendGeSim.NoiseFromData}"><code>LegendGeSim.preamp_gain</code></a></li><li><a href="#LegendGeSim.process_waveforms-Tuple{TypedTables.Table, LegendGeSim.PSSimulator, LegendGeSim.GenericElecChain, LegendGeSim.Trigger, LegendGeSim.DAQ, LegendGeSim.NoiseModel}"><code>LegendGeSim.process_waveforms</code></a></li><li><a href="#LegendGeSim.propdict-Tuple{AbstractString}"><code>LegendGeSim.propdict</code></a></li><li><a href="#LegendGeSim.pss_to_raw-Tuple{TypedTables.Table, TypedTables.Table, LegendGeSim.PSSimulator, LegendGeSim.ElecChain, LegendGeSim.Trigger, LegendGeSim.DAQ, LegendGeSim.NoiseModel}"><code>LegendGeSim.pss_to_raw</code></a></li><li><a href="#LegendGeSim.read_pet-Tuple{AbstractString}"><code>LegendGeSim.read_pet</code></a></li><li><a href="#LegendGeSim.remove_negative-Tuple{Real}"><code>LegendGeSim.remove_negative</code></a></li><li><a href="#LegendGeSim.siggen_config-Tuple{PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.SiggenSimulator, AbstractString}"><code>LegendGeSim.siggen_config</code></a></li><li><a href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericPreAmp}"><code>LegendGeSim.simulate</code></a></li><li><a href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericFADC}"><code>LegendGeSim.simulate</code></a></li><li><a href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, Int64, LegendGeSim.GenericDAQ}"><code>LegendGeSim.simulate</code></a></li><li><a href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.ElecChain, LegendGeSim.NoiseFromSim}"><code>LegendGeSim.simulate</code></a></li><li><a href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.TrapFilter}"><code>LegendGeSim.simulate</code></a></li><li><a href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericElecChain, LegendGeSim.NoiseFromData}"><code>LegendGeSim.simulate</code></a></li><li><a href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.ElecChain}"><code>LegendGeSim.simulate</code></a></li><li><a href="#LegendGeSim.simulate_detector-Tuple{PropDicts.PropDict, LegendGeSim.Environment, AbstractString, LegendGeSim.SiggenSimulator}"><code>LegendGeSim.simulate_detector</code></a></li><li><a href="#LegendGeSim.simulate_noise-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.NoiseFromData}"><code>LegendGeSim.simulate_noise</code></a></li><li><a href="#LegendGeSim.simulate_noise-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.PreAmp}"><code>LegendGeSim.simulate_noise</code></a></li><li><a href="#LegendGeSim.simulate_signal-Tuple{AbstractVector, AbstractVector, MJDSigGen.SigGenSetup}"><code>LegendGeSim.simulate_signal</code></a></li><li><a href="#LegendGeSim.simulate_waveforms-Tuple{TypedTables.Table, MJDSigGen.SigGenSetup}"><code>LegendGeSim.simulate_waveforms</code></a></li><li><a href="#LegendGeSim.simulate_waveforms-Tuple{TypedTables.Table, SolidStateDetectors.Simulation}"><code>LegendGeSim.simulate_waveforms</code></a></li><li><a href="#LegendGeSim.stp_to_pss-Tuple{TypedTables.Table, PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.SSDSimulator, LegendGeSim.NoiseModel, AbstractString}"><code>LegendGeSim.stp_to_pss</code></a></li><li><a href="#LegendGeSim.trap_filter-Tuple{AbstractVector, Int64, LegendGeSim.TrapFilter}"><code>LegendGeSim.trap_filter</code></a></li><li><a href="#LegendGeSim.trigger_threshold-Tuple{LegendGeSim.Trigger, LegendGeSim.GenericPreAmp, LegendGeSim.NoiseFromData}"><code>LegendGeSim.trigger_threshold</code></a></li><li><a href="#LegendGeSim.trigger_threshold-Tuple{LegendGeSim.Trigger, LegendGeSim.GenericPreAmp, LegendGeSim.NoiseFromSim}"><code>LegendGeSim.trigger_threshold</code></a></li></ul><h1 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.LegendGeSim" href="#LegendGeSim.LegendGeSim"><code>LegendGeSim.LegendGeSim</code></a> — <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia hljs">LegendGeSim</code></pre><p>Template for Julia packages.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/LegendGeSim.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.CC2" href="#LegendGeSim.CC2"><code>LegendGeSim.CC2</code></a> — <span class="docstring-category">Type</span></header><section><div><p>CC2 circuit model (ToDo)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/preamp.jl#L42-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.DAQ" href="#LegendGeSim.DAQ"><code>LegendGeSim.DAQ</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The DAQ supertype corresponds to the component of the      DAQ and electronics setup that saves the waveform after      it triggered</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/daq.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.DAQ-Tuple{PropDicts.PropDict}" href="#LegendGeSim.DAQ-Tuple{PropDicts.PropDict}"><code>LegendGeSim.DAQ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DAQ(sim_conf)</code></pre><p>PropDict -&gt; &lt;DAQ&gt;</p><p>Construct a DAQ supertype struct based on given simulation configuration. Type of returned instance depends on settings in &lt;sim_conf&gt; Currently only one type of DAQ available (GenericDAQ),     rendering this function temporarily redundant.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/daq.jl#L37-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.ElecChain" href="#LegendGeSim.ElecChain"><code>LegendGeSim.ElecChain</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The ElecChain supertype corresponds to the chain of      electronic components involved in the DAQ setup     that appear before the trigger.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/elec_chain.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.ElecChain-Tuple{PropDicts.PropDict}" href="#LegendGeSim.ElecChain-Tuple{PropDicts.PropDict}"><code>LegendGeSim.ElecChain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ElecChain(sim_conf)</code></pre><p>PropDict -&gt; &lt;ElecChain&gt;</p><p>Construct an ElecChain supertype struct based on given simulation configuration. Type of returned instance depends on settings in &lt;sim_conf&gt; Currently only one type of ElecChain available (GenericElecChain),     rendering this function temporarily redundant.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/elec_chain.jl#L36-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.Environment-Tuple{PropDicts.PropDict}" href="#LegendGeSim.Environment-Tuple{PropDicts.PropDict}"><code>LegendGeSim.Environment</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Simulation parameters related to the environment</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/sim_config.jl#L79-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.FADC" href="#LegendGeSim.FADC"><code>LegendGeSim.FADC</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The FADC supertype corresponds to the FADC component     of the electronics chain in the DAQ setup.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/fadc.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.FADC-Tuple{PropDicts.PropDict}" href="#LegendGeSim.FADC-Tuple{PropDicts.PropDict}"><code>LegendGeSim.FADC</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">FADC(sim_conf)</code></pre><p>PropDict -&gt; &lt;FADC&gt;</p><p>Construct an FADC supertype instance based on simulation     configuration &lt;sim<em>conf&gt;. Type of &lt;FADC&gt; depends on the type specified in &lt;sim</em>conf&gt;     (e.g. generic, Flashcam, Struck)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/fadc.jl#L46-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.Flashcam" href="#LegendGeSim.Flashcam"><code>LegendGeSim.Flashcam</code></a> — <span class="docstring-category">Type</span></header><section><div><p>FADC with Flashcam algorithm (ToDo)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/fadc.jl#L19-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.GenericDAQ" href="#LegendGeSim.GenericDAQ"><code>LegendGeSim.GenericDAQ</code></a> — <span class="docstring-category">Type</span></header><section><div><p>GenericDAQ is a dummy DAQ model that stores the waveform     after it triggered, saving &lt;baseline_length&gt; samples before the     trigger index, and in total &lt;nsamples&gt; samples from start to end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/daq.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.GenericDAQ-Tuple{PropDicts.PropDict}" href="#LegendGeSim.GenericDAQ-Tuple{PropDicts.PropDict}"><code>LegendGeSim.GenericDAQ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">GenericDAQ(sim_conf)</code></pre><p>PropDict -&gt; GenericDAQ </p><p>Construct a GenericDAQ struct based on given simulation configuration </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/daq.jl#L22-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.GenericElecChain" href="#LegendGeSim.GenericElecChain"><code>LegendGeSim.GenericElecChain</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Generic electronics chain consisting of a preamplifier     and an FADC module</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/elec_chain.jl#L8-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.GenericElecChain-Tuple{PropDicts.PropDict}" href="#LegendGeSim.GenericElecChain-Tuple{PropDicts.PropDict}"><code>LegendGeSim.GenericElecChain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">GenericElecChain(sim_conf)</code></pre><p>PropDict -&gt; GenericElecChain</p><p>Construct electronics components based on simulation      configuration &lt;sim_conf&gt; and create a GenericChain instance     based on these components.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/elec_chain.jl#L19-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.GenericFADC" href="#LegendGeSim.GenericFADC"><code>LegendGeSim.GenericFADC</code></a> — <span class="docstring-category">Type</span></header><section><div><p>GenericFADC is a dummy FADC model that performs sampling     of the input waveform based on the sampling interval &lt;Δt&gt;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/fadc.jl#L7-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.GenericFADC-Tuple{PropDicts.PropDict}" href="#LegendGeSim.GenericFADC-Tuple{PropDicts.PropDict}"><code>LegendGeSim.GenericFADC</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">GenericFADC(sim_conf)</code></pre><p>PropDict -&gt; GenericFADC</p><p>Construct a GenericFADC instance based on simulation     configuration &lt;sim_conf&gt;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/fadc.jl#L30-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.GenericPreAmp" href="#LegendGeSim.GenericPreAmp"><code>LegendGeSim.GenericPreAmp</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The GenericPreAmp is a dummy PreAmp model that accounts for     effects such as decay and rise time, offset, noise and gain.</p><p>This dummy model involves no real electronics response, only gain.</p><p>This struct is currently mutable because in the case of noise modelling based on data,     the gain has to match the one in the baselines extracted from data,     so in that case the PreAmp is initialized with gain = 0, and the gain     is calculated later. I assume this is temporary, as the user should know which     gain / max_e the data was produced with and give it as simulation input.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/preamp.jl#L7-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.GenericPreAmp-Tuple{PropDicts.PropDict}" href="#LegendGeSim.GenericPreAmp-Tuple{PropDicts.PropDict}"><code>LegendGeSim.GenericPreAmp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">GenericPreAmp(sim_conf)</code></pre><p>PropDict -&gt; GenericPreAmp    </p><p>Construct a GenericPreAmp instance based on given simulation configuration &lt;sim_conf&gt;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/preamp.jl#L48-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.NoiseFromData" href="#LegendGeSim.NoiseFromData"><code>LegendGeSim.NoiseFromData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The NoiseFromData model means instead of simulating given      preamp noise, and also gain and offset, these parameters will be     accounted for or inferred from real data baselines     contained in the &lt;baseline_catalog&gt;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L41-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.NoiseFromData-Tuple{PropDicts.PropDict}" href="#LegendGeSim.NoiseFromData-Tuple{PropDicts.PropDict}"><code>LegendGeSim.NoiseFromData</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">NoiseFromData(sim_conf)</code></pre><p>PropDict -&gt; NoiseFromData </p><p>Construct a NoiseFromData struct based on given simulation configuration &lt;sim_conf&gt;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L53-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.NoiseFromSim" href="#LegendGeSim.NoiseFromSim"><code>LegendGeSim.NoiseFromSim</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The NoiseFromSim model means simulating noise from scratch     starting from fano noise of the germanium crystal     and ending with noise coming from electronics components.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.NoiseFromSim-Tuple{PropDicts.PropDict}" href="#LegendGeSim.NoiseFromSim-Tuple{PropDicts.PropDict}"><code>LegendGeSim.NoiseFromSim</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">NoiseFromSim(sim_conf)</code></pre><p>PropDict -&gt; NoiseFromSim </p><p>Construct a NoiseFromSim struct based on given simulation configuration &lt;sim_conf&gt;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L25-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.NoiseModel" href="#LegendGeSim.NoiseModel"><code>LegendGeSim.NoiseModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The NoiseModel supertype corresponds to different methods     of simulating noise coming from the electronics chain     components.</p><p>It is not simply a string in the ElecChain struct because     it must exist as a separate instance for the stp-&gt;pss step      that is independent from the elec simulation, but has to know     what type of noise model is used to deal with fano noise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.NoiseModel-Tuple{PropDicts.PropDict}" href="#LegendGeSim.NoiseModel-Tuple{PropDicts.PropDict}"><code>LegendGeSim.NoiseModel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">NoiseModel(sim_config)</code></pre><p>PropDict -&gt; &lt;NoiseModel&gt;</p><p>Constuct a NoiseModel supertype instance based on simulation settings      given in &lt;sim<em>config&gt; Type of &lt;NoiseModel&gt; depends on &lt;sim</em>config&gt; settings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L68-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.PSSimulator" href="#LegendGeSim.PSSimulator"><code>LegendGeSim.PSSimulator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The PSSimulator supertype defines what type of method      is used for the simulation of electric field and weighting potential,     calculation of detector capacitance etc., as well as simulation of current pulses</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.PSSimulator-Tuple{PropDicts.PropDict}" href="#LegendGeSim.PSSimulator-Tuple{PropDicts.PropDict}"><code>LegendGeSim.PSSimulator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PSSimulator(sim_config)</code></pre><p>PropDict -&gt; &lt;PSSimulator&gt;</p><p>Construct a PSSSimulator supertype instance based on given simulation     configuration &lt;sim_config&gt;. Returned type depends on the simulation     method given in the config.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss.jl#L75-L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.PreAmp" href="#LegendGeSim.PreAmp"><code>LegendGeSim.PreAmp</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The PreAmp supertype corresponds to the charge sensitive preamplifier component</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/preamp.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.PreAmp-Tuple{PropDicts.PropDict}" href="#LegendGeSim.PreAmp-Tuple{PropDicts.PropDict}"><code>LegendGeSim.PreAmp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PreAmp(sim_conf)</code></pre><p>PropDict -&gt; &lt;PreAmp&gt;    </p><p>Construct a PreAmp supertype instance based on given simulation configuration &lt;sim<em>conf&gt;. Returned type depends on the settings in &lt;sim</em>conf&gt;. Currently only GenericPreAmp is available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/preamp.jl#L67-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.SSDSimulator" href="#LegendGeSim.SSDSimulator"><code>LegendGeSim.SSDSimulator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Simulation method: SolidStateDetectors</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss.jl#L9-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.SSDSimulator-Tuple{PropDicts.PropDict}" href="#LegendGeSim.SSDSimulator-Tuple{PropDicts.PropDict}"><code>LegendGeSim.SSDSimulator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SSDSimulator(::PropDict)</code></pre><p>-&gt; SSDSimulator</p><p>Construct SSDSimulator instance based on simulation     configuration given in &lt;sim_conf&gt;.</p><p>Currently SSDSimulator does not have any parameters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss.jl#L21-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.SiggenSimulator" href="#LegendGeSim.SiggenSimulator"><code>LegendGeSim.SiggenSimulator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Simulation method: siggen</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss.jl#L46-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.SiggenSimulator-Tuple{PropDicts.PropDict}" href="#LegendGeSim.SiggenSimulator-Tuple{PropDicts.PropDict}"><code>LegendGeSim.SiggenSimulator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SiggeSimulator(sim_conf)</code></pre><p>PropDict -&gt; SiggenSimulator</p><p>Construct SiggeSimulator instance based on simulation     configuration given in &lt;sim_conf&gt;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss.jl#L58-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.Struck" href="#LegendGeSim.Struck"><code>LegendGeSim.Struck</code></a> — <span class="docstring-category">Type</span></header><section><div><p>FADC with Struck algorithm (ToDo)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/fadc.jl#L24-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.TrapFilter" href="#LegendGeSim.TrapFilter"><code>LegendGeSim.TrapFilter</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The TrapFilter trigger is a dummy simulation of the trapezoidal filter     algorithm to produce a trigger if the waveform amplitude passes     a certain threshold.</p><p>This struct is currently mutable because in case of NoiseFromData modelling,     we need to calculate the threshold post-factum after analysing the noise     levels in data.    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/trigger.jl#L7-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.TrapFilter-Tuple{PropDicts.PropDict}" href="#LegendGeSim.TrapFilter-Tuple{PropDicts.PropDict}"><code>LegendGeSim.TrapFilter</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">TrapFilter(sim_conf)</code></pre><p>PropDict -&gt; TrapFilter </p><p>Construct a TrapFilter instance based on simulation configuration given in &lt;sim_conf&gt;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/trigger.jl#L29-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.Trigger" href="#LegendGeSim.Trigger"><code>LegendGeSim.Trigger</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The Trigger supertype corresponds to the trigger component in DAQ.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/trigger.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.Trigger-Tuple{PropDicts.PropDict}" href="#LegendGeSim.Trigger-Tuple{PropDicts.PropDict}"><code>LegendGeSim.Trigger</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Trigger(sim_conf)</code></pre><p>PropDict -&gt; &lt;Trigger&gt;    </p><p>Construct a Trigger supertype instance based on settings given in &lt;sim_conf&gt;. The returned type depends on the given settings.</p><p>Currently only TrapFilter type is implemented.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/trigger.jl#L46-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.add_tail_and_baseline-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericFADC, LegendGeSim.GenericDAQ}" href="#LegendGeSim.add_tail_and_baseline-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericFADC, LegendGeSim.GenericDAQ}"><code>LegendGeSim.add_tail_and_baseline</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_tail_and_baseline(wf, fadc, daq)</code></pre><p>RDWaveform, GenericFADC, GenericDAQ -&gt; RDWaveform  </p><p>Extend tail and add baseline of &lt;wf&gt; based on &lt;fadc&gt; and &lt;daq&gt; parameters.</p><p>Extended conservatively to ensure enough samples for the future     sliding trap filter window and the resulting DAQ baseline.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/waveform_utils.jl#L2-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.baseline_catalog-Tuple{AbstractString}" href="#LegendGeSim.baseline_catalog-Tuple{AbstractString}"><code>LegendGeSim.baseline_catalog</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">baseline_catalog(raw_filename)</code></pre><p>AbstractString -&gt; Table </p><p>Look up stored table of baselines corresponding to given raw data &lt;raw_filename&gt;. If does not exist, construct such table.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/baselines.jl#L24-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.baseline_catalog-Tuple{TypedTables.Table}" href="#LegendGeSim.baseline_catalog-Tuple{TypedTables.Table}"><code>LegendGeSim.baseline_catalog</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">baseline_catalog(raw_table)</code></pre><p>Table -&gt; Table </p><p>Construct table of baselines extracted from the waveforms     contained in the given raw data table &lt;raw_table&gt;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/baselines.jl#L53-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.construct_ssd_simulation-Tuple{PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.SSDSimulator}" href="#LegendGeSim.construct_ssd_simulation-Tuple{PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.SSDSimulator}"><code>LegendGeSim.construct_ssd_simulation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_ssd_simulation(det_meta::AbstractString, env::Environment, sim_settings::SSDSimulator)</code></pre><p>Construct a <code>SolidStateDetectors.Simulation</code> based on geometry as given in LEGEND metadata <code>det_meta</code> and on envorinmental settings specified in <code>env</code> and on simulational settings specified in <code>sim_settings</code>.</p><p>ToDo: Actually use <code>env</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/detector.jl#L204-L211">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.differentiate-Tuple{RadiationDetectorSignals.RDWaveform}" href="#LegendGeSim.differentiate-Tuple{RadiationDetectorSignals.RDWaveform}"><code>LegendGeSim.differentiate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">differentiate(wf)</code></pre><p>RDWaveform -&gt; RDWaveform    </p><p>Differentiate a waveform using a Biquad filter</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/waveform_utils.jl#L20-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.extend_baseline-Tuple{RadiationDetectorSignals.RDWaveform, RadiationDetectorSignals.RDWaveform}" href="#LegendGeSim.extend_baseline-Tuple{RadiationDetectorSignals.RDWaveform, RadiationDetectorSignals.RDWaveform}"><code>LegendGeSim.extend_baseline</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">extend_baseline(baseline, wf)</code></pre><p>RDWaveform, RDWaveform -&gt; RDWaveform</p><p>Take a given &lt;baseline&gt; and extend it to match the length (and sampling)             of the given waveform &lt;wf&gt;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/baselines.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.fano_noise-Tuple{TypedTables.Table, PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.NoiseFromData}" href="#LegendGeSim.fano_noise-Tuple{TypedTables.Table, PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.NoiseFromData}"><code>LegendGeSim.fano_noise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fano_noise(events, ::PropDict, ::Environment, ::NoiseFromData)</code></pre><p>Table -&gt; Table    </p><p>Do nothing since we do not need to simulate fano noise separately when      using data baselines to account for noise levels.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L105-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.fano_noise-Tuple{TypedTables.Table, PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.NoiseFromSim}" href="#LegendGeSim.fano_noise-Tuple{TypedTables.Table, PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.NoiseFromSim}"><code>LegendGeSim.fano_noise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fano_noise(events, det_meta, env, ::NoiseFromSim)</code></pre><p>Table, PropDict, Environment -&gt; Table </p><p>Calculate fano noise level based on the detector specification provided in     LEGEND metadata &lt;det_meta&gt; and environment settings provided in &lt;env&gt;,     and add it to given &lt;events&gt;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L87-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.filename-Tuple{Any}" href="#LegendGeSim.filename-Tuple{Any}"><code>LegendGeSim.filename</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">filename(path)</code></pre><p>Sring -&gt; String</p><p>Extract core name of the file from path </p><p>E.g. filename(&quot;/some/path/to/file<em>name.ext&quot;) -&gt; &quot;file</em>name&quot;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/temp_utils.jl#L2-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.group_by_column-Tuple{TypedTables.Table, Symbol}" href="#LegendGeSim.group_by_column-Tuple{TypedTables.Table, Symbol}"><code>LegendGeSim.group_by_column</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">group_by_column(table, colname)</code></pre><p>TypedTables.Table, Symbol -&gt; TypedTables.Table </p><p>Group table &lt;table&gt; by given column &lt;colname&gt;.</p><p>I think this function already exists somewhere. Gotta ask Oliver and maybe use that package instead.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pet_to_stp.jl#L122-L131">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.load_config-Tuple{AbstractString, AbstractString}" href="#LegendGeSim.load_config-Tuple{AbstractString, AbstractString}"><code>LegendGeSim.load_config</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_config(input_file, det_metadata, sim_config_file)</code></pre><p>AbstractString or Table, AbstractString, AbstractString -&gt; PropDict</p><p>Merge simulation inputs and settings into one simulation config to pass around</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/sim_config.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.meta2siggen-Tuple{PropDicts.PropDict, LegendGeSim.Environment}" href="#LegendGeSim.meta2siggen-Tuple{PropDicts.PropDict, LegendGeSim.Environment}"><code>LegendGeSim.meta2siggen</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">meta2siggen(meta, env)</code></pre><p>PropDict, Environment -&gt; Dict    </p><p>Construct siggen type config in a form of Dict based on     geometry as given in LEGEND metadata &lt;meta&gt;     and environment settings given in &lt;env&gt;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/detector.jl#L134-L142">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.pet_to_raw-Tuple{PropDicts.PropDict}" href="#LegendGeSim.pet_to_raw-Tuple{PropDicts.PropDict}"><code>LegendGeSim.pet_to_raw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pet_to_raw(pet_file_path, sim_config, config_name)</code></pre><p>AbstractString, PropDict, AbstractString -&gt; Table</p><p>[WIP] Full simulation chain pet-&gt;stp-&gt;pss-&gt;raw     based on simulated energy depositions contained in the HDF5 file     found in &lt;pet<em>file</em>path&gt; and simulation settings given in &lt;sim_config&gt;.</p><p>The output name &lt;config_name&gt; is used to construct filenames for cached     simulation files (currently the same as the simulation config basename)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pet_to_raw.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.pet_to_stp-Union{Tuple{S}, Tuple{TypedTables.Table, S}} where S" href="#LegendGeSim.pet_to_stp-Union{Tuple{S}, Tuple{TypedTables.Table, S}} where S"><code>LegendGeSim.pet_to_stp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pet_to_stp(pet_table, detector_SSD)

Table, SolidStateDetectors.Simulation -&gt; Table</code></pre><p>Construct a table with &quot;stepping info&quot; based on     position-energy-time information of simulated energy depositions     given in &lt;pet<em>table&gt; and detector geometry given in &lt;detector</em>SSD&gt;.</p><p>Current steps include:     - removing events outside of detector PV     - clustering     - grouping by detector     - removing events reconstructed to be outisde of the detector</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pet_to_stp.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.preamp_gain-Tuple{LegendGeSim.GenericPreAmp, LegendGeSim.NoiseFromSim}" href="#LegendGeSim.preamp_gain-Tuple{LegendGeSim.GenericPreAmp, LegendGeSim.NoiseFromSim}"><code>LegendGeSim.preamp_gain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">preamp_gain(preamp, ::NoiseFromSim)</code></pre><p>GenericPreAmp -&gt; Float64</p><p>Do nothing and return original value of gain parameter in &lt;preamp&gt;,     since when NoiseFromSim model is used, gain is provided by the user     (or calculated based on user given max energy)    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/temp_utils.jl#L66-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.preamp_gain-Tuple{LegendGeSim.PreAmp, LegendGeSim.NoiseFromData}" href="#LegendGeSim.preamp_gain-Tuple{LegendGeSim.PreAmp, LegendGeSim.NoiseFromData}"><code>LegendGeSim.preamp_gain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">preamp_gain(preamp, noise_model)</code></pre><p>GenericPreAmp, NoiseFromData -&gt; Real</p><p>Calculate gain of &lt;preamp&gt; based on its max energy and      the offset observed in data baselines contained in &lt;noise_model&gt;</p><p>In principle we should not do this in this simulation, and user has to provide      the precise parameters of the electronics chain used in producing data      the baselines from which are contained in &lt;noise_model&gt;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/temp_utils.jl#L46-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.process_waveforms-Tuple{TypedTables.Table, LegendGeSim.PSSimulator, LegendGeSim.GenericElecChain, LegendGeSim.Trigger, LegendGeSim.DAQ, LegendGeSim.NoiseModel}" href="#LegendGeSim.process_waveforms-Tuple{TypedTables.Table, LegendGeSim.PSSimulator, LegendGeSim.GenericElecChain, LegendGeSim.Trigger, LegendGeSim.DAQ, LegendGeSim.NoiseModel}"><code>LegendGeSim.process_waveforms</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">process_waveforms(pss_table, elec_chain, trigger, daq, noise_model)</code></pre><p>Table, GenericElecChain, Trigger, DAQ, NoiseModel -&gt; Table  </p><p>Simulate effects of the electronics chain &lt;elec<em>chain&gt;, &lt;trigger&gt; and &lt;daq&gt; settings     on the waveforms contained in &lt;pss</em>table&gt;. Noise is simulated based on the given &lt;noise_model&gt;. The output table contains the resulting DAQ waveforms, simulated online energy after tigger,     baselines and their RMS, needed for the raw tier table.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss_to_raw.jl#L91-L101">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.propdict-Tuple{AbstractString}" href="#LegendGeSim.propdict-Tuple{AbstractString}"><code>LegendGeSim.propdict</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">propdict(json_file)</code></pre><p>AbstractString -&gt; PropDict </p><p>Construct a PropDict based on given &lt;json_file&gt;.</p><ol><li>Why can&#39;t I name it function PropDict()?</li><li>Why doesn&#39;t this already exist in PropDicts?</li></ol><p>I find the PropDicts.read(PropDict, String) format kinda cumbersome</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/temp_utils.jl#L15-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.pss_to_raw-Tuple{TypedTables.Table, TypedTables.Table, LegendGeSim.PSSimulator, LegendGeSim.ElecChain, LegendGeSim.Trigger, LegendGeSim.DAQ, LegendGeSim.NoiseModel}" href="#LegendGeSim.pss_to_raw-Tuple{TypedTables.Table, TypedTables.Table, LegendGeSim.PSSimulator, LegendGeSim.ElecChain, LegendGeSim.Trigger, LegendGeSim.DAQ, LegendGeSim.NoiseModel}"><code>LegendGeSim.pss_to_raw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pss_to_raw(pss_table, pss_truth, simulation_settings, elec_chain, trigger, daq, noise_model)</code></pre><p>Table, Table, SSDSimulator, ElecChain, Trigger, DAQ, NoiseModel -&gt; Table</p><p>Simulate effects of the electronics chain &lt;elec<em>chain&gt;, &lt;trigger&gt; and &lt;daq&gt; settings     on the waveforms contained in &lt;pss</em>table&gt;. Noise is simulated based on the given &lt;noise<em>model&gt;. Construct a table with the format identical to data raw tier. Currently timing information in &lt;pss</em>truth&gt; is used for dummy timestamps in the output     raw tier table.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss_to_raw.jl#L11-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.read_pet-Tuple{AbstractString}" href="#LegendGeSim.read_pet-Tuple{AbstractString}"><code>LegendGeSim.read_pet</code></a> — <span class="docstring-category">Method</span></header><section><div><p>AbstractString -&gt; Table</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pet_to_stp.jl#L107-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.remove_negative-Tuple{Real}" href="#LegendGeSim.remove_negative-Tuple{Real}"><code>LegendGeSim.remove_negative</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">remove_negative(value)</code></pre><p>Real -&gt; Real </p><p>Replace negative values by zeros.</p><p>Used to remove a glitch in SSD pulses as a quick fix     while the glitch is being debugged.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/temp_utils.jl#L31-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.siggen_config-Tuple{PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.SiggenSimulator, AbstractString}" href="#LegendGeSim.siggen_config-Tuple{PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.SiggenSimulator, AbstractString}"><code>LegendGeSim.siggen_config</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">siggen_config(meta, env, siggen_sim, config_name)</code></pre><p>PropDict, Environment, SiggenSimulator, String -&gt; String, String    </p><p>Construct Siggen/Fieldgen config based on     geometry as given in LEGEND metadata &lt;meta&gt;,     environment settings given in &lt;env&gt;,     and fieldgen settings contained in &lt;siggen_sim&gt;.</p><p>The resulting siggen config will be cached based on given &lt;config_name&gt; The function returns the path to the cached siggen config file, and     the relative path to the fieldgen WP file (to check if already exists later)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/detector.jl#L61-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, Int64, LegendGeSim.GenericDAQ}" href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, Int64, LegendGeSim.GenericDAQ}"><code>LegendGeSim.simulate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate(wf, trigger_index, daq)</code></pre><p>RDWaveform, Int, DAQ -&gt; RDWaveform</p><p>Simulate how the DAQ stores the waveform after it receives a trigger.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/daq.jl#L53-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.ElecChain, LegendGeSim.NoiseFromSim}" href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.ElecChain, LegendGeSim.NoiseFromSim}"><code>LegendGeSim.simulate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate(wf, elec_chain, ::NoiseFromSim)</code></pre><p>RDWaveform, ElecChain -&gt; RDWaveform</p><p>Simulate effects of the electronics chain on the waveform     modelling noise based on each component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/elec_chain.jl#L53-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.ElecChain}" href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.ElecChain}"><code>LegendGeSim.simulate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate(wf, elec_chain)</code></pre><p>RDWaveform, ElecChain -&gt; RDWaveform</p><p>Simulate effects of the electronics chain components on the waveform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/elec_chain.jl#L99-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericElecChain, LegendGeSim.NoiseFromData}" href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericElecChain, LegendGeSim.NoiseFromData}"><code>LegendGeSim.simulate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate(wf, elec_chain, noise_model)</code></pre><p>RDWaveform, GenericElecChain, NoiseFromData -&gt; RDWaveform</p><p>Simulate effects of the electronics chain on the waveform     modelling noise based on baselines extracted from data     (note: also takes preamp offset into account)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/elec_chain.jl#L69-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericFADC}" href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericFADC}"><code>LegendGeSim.simulate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate(wf, fadc)</code></pre><p>RDWaveform, GenericFADC -&gt; RDWaveform</p><p>Simulate effects of FADC module &lt;fadc&gt; on the waveform &lt;wf&gt;     (sampling and digitization)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/fadc.jl#L68-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericPreAmp}" href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.GenericPreAmp}"><code>LegendGeSim.simulate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate(wf, preamp)</code></pre><p>RDWaveform, GenericPreAmp -&gt; RDWaveform</p><p>Simulate the effecs of the preamp on the waveform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/preamp.jl#L82-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.TrapFilter}" href="#LegendGeSim.simulate-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.TrapFilter}"><code>LegendGeSim.simulate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate(wf, trap_filter)</code></pre><p>RDWaveform, TrapFilter -&gt; Int, Real </p><p>Simulate the results of applying &lt;trap<em>filter&gt; to &lt;wf&gt; Returns the index on which &lt;wf&gt; triggered, and the estimated     online energy based on &lt;trap</em>filter&gt; output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/trigger.jl#L97-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate_detector-Tuple{PropDicts.PropDict, LegendGeSim.Environment, AbstractString, LegendGeSim.SiggenSimulator}" href="#LegendGeSim.simulate_detector-Tuple{PropDicts.PropDict, LegendGeSim.Environment, AbstractString, LegendGeSim.SiggenSimulator}"><code>LegendGeSim.simulate_detector</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate_detector(det_meta, env, config_name, ps_simulator)</code></pre><p>PropDict, Environment, AbstractString, Siggen -&gt; SigGenSetup       </p><p>Construct a fieldgen/siggen configuration file     according to geometry as given in LEGEND metadata &lt;det<em>meta&gt;     and environment settings given in &lt;env&gt;. Look up fieldgen generated electric field and weighting potential files     based on given &lt;config</em>name&gt;, and if not found, call fieldgen.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/detector.jl#L22-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate_noise-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.NoiseFromData}" href="#LegendGeSim.simulate_noise-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.NoiseFromData}"><code>LegendGeSim.simulate_noise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate_noise(wf, noise_model)</code></pre><p>RDWaveform, NoiseFromData -&gt; RDWaveform</p><p>Simulate noise and offset by picking a random baseline from the baseline catalog     contained in &lt;noise_model&gt; and slapping it on top of the given waveform &lt;wf&gt;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L135-L142">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate_noise-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.PreAmp}" href="#LegendGeSim.simulate_noise-Tuple{RadiationDetectorSignals.RDWaveform, LegendGeSim.PreAmp}"><code>LegendGeSim.simulate_noise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate_noise(wf, preamp)</code></pre><p>RDWaveform, PreAmp -&gt; RDWaveform</p><p>Simulate effects of the preamplifier &lt;preamp&gt; on the given waveform &lt;wf&gt;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/noise.jl#L119-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate_signal-Tuple{AbstractVector, AbstractVector, MJDSigGen.SigGenSetup}" href="#LegendGeSim.simulate_signal-Tuple{AbstractVector, AbstractVector, MJDSigGen.SigGenSetup}"><code>LegendGeSim.simulate_signal</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate_wf(pos, edep, siggen_setup)</code></pre><p>AbstractVector, AbstractVector, SigGenSetup -&gt; Vector{Float32}</p><p>Simulate a signal from energy depositions &lt;edep&gt; with corresponding positions &lt;pos&gt;     based on a given &lt;siggen_setup&gt;    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss.jl#L197-L204">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate_waveforms-Tuple{TypedTables.Table, MJDSigGen.SigGenSetup}" href="#LegendGeSim.simulate_waveforms-Tuple{TypedTables.Table, MJDSigGen.SigGenSetup}"><code>LegendGeSim.simulate_waveforms</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate_waveforms(stp_events, detector)</code></pre><p>Table, AbstractString -&gt; Table, Table     </p><p>Simulate pulses based on events given in &lt;stp_events&gt;     using Siggen with settings given in &lt;detector&gt;</p><p>Constructs and returns a table with resulting pulses and a pss truth table     (may be abolished in the future as unnecessary)    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss.jl#L139-L149">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.simulate_waveforms-Tuple{TypedTables.Table, SolidStateDetectors.Simulation}" href="#LegendGeSim.simulate_waveforms-Tuple{TypedTables.Table, SolidStateDetectors.Simulation}"><code>LegendGeSim.simulate_waveforms</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate_waveforms(stp_events, detector)</code></pre><p>Table, SolidStateDetectors.Simulation -&gt; Table, Table     </p><p>Simulate pulses based on events given in &lt;stp_events&gt;     using the given SSD detector simulation instance &lt;detector&gt;</p><p>Constructs and returns a table with resulting pulses and a pss truth table     (may be abolished in the future as unnecessary)    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/pss.jl#L98-L108">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.stp_to_pss-Tuple{TypedTables.Table, PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.SSDSimulator, LegendGeSim.NoiseModel, AbstractString}" href="#LegendGeSim.stp_to_pss-Tuple{TypedTables.Table, PropDicts.PropDict, LegendGeSim.Environment, LegendGeSim.SSDSimulator, LegendGeSim.NoiseModel, AbstractString}"><code>LegendGeSim.stp_to_pss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stp_to_pss(stp_table, det_meta, env, ps_simulator, noise_model, config_name)</code></pre><p>Table, PropDict, Env, PSSimulator, NoiseModel, AbstractString -&gt; Table, Table    </p><p>Simulate waveforms based on stepping info given in &lt;stp<em>table&gt;,      LEGEND detector metadata &lt;det</em>meta&gt;, environment settings given in &lt;env&gt;,     pulse shape simulation method &lt;ps<em>simulator&gt;, and &lt;noise</em>model&gt;</p><p>The output is a table with simulated pulses, and a table with simulation truth     (may be abolished in the future since basically corresponds to stp table)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/stp_to_pss.jl#L7-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.trap_filter-Tuple{AbstractVector, Int64, LegendGeSim.TrapFilter}" href="#LegendGeSim.trap_filter-Tuple{AbstractVector, Int64, LegendGeSim.TrapFilter}"><code>LegendGeSim.trap_filter</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">trap_filter(wf_values, sample_idx, trap_filter)</code></pre><p>AbstractVector, Int, TrapFilter -&gt; Real, Bool </p><p>Simulate the output of the trapezoidal filter algorithm     applied to &lt;wf<em>values&gt; when the first sliding window starts     at &lt;sample</em>idx&gt;. The trapezoidal algorithm parameters are contained in &lt;trap_filter. The returned values are the online energy estimate corresponding to the     difference between the 1st and the 3rd sliding window, and a Bool     correspondong to whether there is a trigger issued or not.    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/trigger.jl#L68-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.trigger_threshold-Tuple{LegendGeSim.Trigger, LegendGeSim.GenericPreAmp, LegendGeSim.NoiseFromData}" href="#LegendGeSim.trigger_threshold-Tuple{LegendGeSim.Trigger, LegendGeSim.GenericPreAmp, LegendGeSim.NoiseFromData}"><code>LegendGeSim.trigger_threshold</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">trigger_threshold(trigger, preamp, noise_model)</code></pre><p>Trigger, GenericPreAmp, NoiseFromData -&gt; Real </p><p>In NoiseFromData setting, if trigger threshold in keV is not provided,     it is calculated based on noise levels in the baselines contained in     &lt;noise_model&gt;. Otherwise the final threshold is calculated based on &lt;preamp&gt; gain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/temp_utils.jl#L111-L120">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LegendGeSim.trigger_threshold-Tuple{LegendGeSim.Trigger, LegendGeSim.GenericPreAmp, LegendGeSim.NoiseFromSim}" href="#LegendGeSim.trigger_threshold-Tuple{LegendGeSim.Trigger, LegendGeSim.GenericPreAmp, LegendGeSim.NoiseFromSim}"><code>LegendGeSim.trigger_threshold</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">trigger_threshold(trigger, preamp, ::NoiseFromSim)</code></pre><p>Trigger, GenericPreAmp -&gt; Real </p><p>In NoiseFromSim setting, non-zero trigger threshold in keV MUST be given by the user. Calculate final threshold based the value contained in &lt;trigger&gt;, and &lt;preamp&gt; gain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/legend-exp/LegendGeSim.jl/blob/3c87b2ed89b86541d25d6203a49c01cd4c03404b/src/temp_utils.jl#L95-L103">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../LICENSE/">LICENSE »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.13 on <span class="colophon-date" title="Saturday 26 February 2022 00:08">Saturday 26 February 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
